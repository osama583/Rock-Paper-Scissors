<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="game.css">
    <style>
        :root {
            --computer-background: rgb(167, 38, 38);
            --player-background: rgb(25, 25, 185);
        }
        body {
            background: linear-gradient(var(--computer-background) 45%, var(--player-background) 50%);
            height: 100vh;
            width: 100%;
            overflow: hidden;
        }
        main {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        .con {
            width: 70%;
        }
        .choices-con {
            display: flex;
            justify-content: center;
            position: relative;
            top: 40px;
            height: 150px; /* Fixed height to prevent shifting */
        }
        .button-con {
            padding-right: 55px;
        }
        .button-game {
            overflow: hidden;
            border-radius: 50%;
            background-color: white;
            border: 0;
        }
        img {
            width: 75px;
        }
        .score-con {
            display: flex;
            justify-content: space-between;
            margin-top: 23px;
            margin-bottom: 23px;
            font-size: 30px;
            font-family: sans-serif;
            font-weight: 700;
            position: relative;
            top: 60px;
        }
        .player:hover {
            pointer-events: visible;
            border: 5px solid rgb(29, 155, 46);
        }
        .message {
            font-size: 70px;
            font-family: monospace;
            position: relative;
            top: -50px;
            right: -300px;
            display: none;
        }
        .button-6 {
            display: flex;
            align-items: end;
            justify-content: center;
            margin-top: 90px;
            display: none;
        }
        #resetRoundBt, #resetBt {
            background-image: linear-gradient(
                to bottom,
                rgba(0, 128, 0, 0.8) 0%,
                rgba(0, 128, 0, 0.9) 20%,
                rgba(0, 128, 0, 1) 40%,
                rgba(0, 128, 0, 1) 60%,
                rgba(0, 128, 0, 0.9) 80%,
                rgba(0, 128, 0, 0.8) 100%
            );
            width: 9%;
            margin-right: 70px;
            display: none;
            position: relative;
        }
        h2 {
            font-size: 20px;
        }
        #Rock, #Paper, #Scissors {
            visibility: hidden; /* Use visibility instead of display */
            position: absolute;
            top: -90px;
            left: 0;
        }
        .computer {
            position: relative;
        }
        .computer-score {
            position: relative;
            left: -40px;
        }
        /* Show the computer's choice using the 'show' class */
        #Rock.show, #Paper.show, #Scissors.show {
            visibility: visible;
        }
    </style>
</head>
<body>
    <main>
        <div class="con">
            <div class="choices-con">
                <div class="button-con"><button type="button" class="button-game computer" id="Rock"><img src="140215-removebg-preview.png" alt=""></button></div>
                <div class="button-con"><button type="button" class="button-game computer" id="Paper"><img src="143007-removebg-preview.png" alt=""></button></div>
                <div class="button-con"><button type="button" class="button-game computer" id="Scissors"><img src="140216-removebg-preview.png" alt=""></button></div>
            </div>
            <div class="score-con">
                <strong><span class="computer-score">Computer Score: <span id="ComputerScore">0</span><span></span></span></strong>
                <strong><span>Player Score: <span id="PlayerScore">0</span></span></strong>
            </div>
            <div class="message-con">
                <div id="messageLose" class="message"> You Lost !!</div>
                <div id="messageWin" class="message"> You win !!</div>
            </div>
            <div class="choices-con">
                <div class="button-con"><button class="button-game player" value="Rock" id="rock"><img src="140215-removebg-preview.png" alt=""></button></div>
                <div class="button-con"><button class="button-game player" value="Paper" id="paper"><img src="143007-removebg-preview.png" alt=""></button></div>
                <div class="button-con"><button class="button-game player" value="Scissors" id="scissors"><img src="140216-removebg-preview.png" alt=""></button></div>
            </div>
            <div class="button-6"> <button id="resetRoundBt"><h2>agin</h2></button></div>
            <div class="button-6"> <button id="resetBt"><h2>reset</h2></button></div>
        </div>
    </main>
    <script>
        let playerScore = 0;
        let computerScore = 0;
        const messageLose = document.querySelector("#messageLose");
        const messageWin = document.querySelector("#messageWin");
        const playerScoreText = document.querySelector("#PlayerScore");
        const computerScoreText = document.querySelector("#ComputerScore");
        const resetBt = document.querySelector("#resetBt");
        
        // Get the computer choice
        function getComputerChoice() {
            const computerChoice = ["Rock", "Paper", "Scissors"];
            return computerChoice[Math.floor(Math.random() * computerChoice.length)];
        }

        // Compare the computer's choice with the player's choice
        function round(userChoice) {
            const computerChoice = getComputerChoice();
            console.log("Computer choice: ", computerChoice); // Check what the computer chose
            if (userChoice === "Rock" && computerChoice === "Scissors" ||
                userChoice === "Paper" && computerChoice === "Rock" ||
                userChoice === "Scissors" && computerChoice === "Paper") {
                playerScore++;
                playerScoreText.innerText = playerScore;
            } else if (userChoice !== computerChoice) {
                computerScore++;
                computerScoreText.innerText = computerScore;
            } else {
                console.log("It's a tie");
            }

            // Show the computer's choice visually
            let computerRock = document.querySelector("#Rock");
            let computerPaper = document.querySelector("#Paper");
            let computerScissors = document.querySelector("#Scissors");

            // Hide all choices first
            computerRock.classList.remove("show");
            computerPaper.classList.remove("show");
            computerScissors.classList.remove("show");

            // Show the computer's choice
            if (computerChoice === "Rock") {
                computerRock.classList.add("show");
            } else if (computerChoice === "Paper") {
                computerPaper.classList.add("show");
            } else if (computerChoice === "Scissors") {
                computerScissors.classList.add("show");
            }

            if (computerScore === 4 || playerScore === 4) {
                if (computerScore === 4) {
                    messageLose.style.display = "block";
                } else if (playerScore === 4) {
                    messageWin.style.display = "block";
                }
                resetGame();
            }
        }

        function Rungame(choice) {
            if (computerScore < 4 && playerScore < 4) {
                round(choice);
            }
        }

        function resetGame() {
            resetBt.style.display = "block";
            resetBt.addEventListener("click", () => {
                playerScore = 0;
                computerScore = 0;
                computerScoreText.innerText = computerScore;
                playerScoreText.innerText = playerScore;
                resetBt.style.display = "none";
                messageWin.style.display = "none";
                messageLose.style.display = "none";
            });
        }

        const rockBt = document.querySelector("#rock");
        const paperBt = document.querySelector("#paper");
        const scissorsBt = document.querySelector("#scissors");

        rockBt.addEventListener("click", () => {
            console.log("Rock button clicked");
            Rungame("Rock");
        });

        paperBt.addEventListener("click", () => {
            console.log("Paper button clicked");
            Rungame("Paper");
        });

        scissorsBt.addEventListener("click", () => {
            console.log("Scissors button clicked");
            Rungame("Scissors");
        });
    </script>
</body>
</html>
